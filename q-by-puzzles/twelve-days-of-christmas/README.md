# [Twelve Days of Christmas](https://code.kx.com/q/learn/pb/xmas-days)
Print the lyrics of the Christmas carol “The Twelve Days of Christmas”!

### Solutions
- `sol1.q` and `sol2.q` are based on the walkthrough provided in the tutorial
- `sol3.q`
    - The intro to the carol is defined in it's own variable, `intro`
        - The appropriate date is placed into the intro on line 19
    - `til count days` creates a vector of the day numbers, and `each` passes the day numbers one-by-one into the function
        - `each` allows us to iterate through the vector produced by the unary `til`
    - On line 19, `enlist` returns a list where the items are the arguments produced by the lambda function used to place the appropiate date into the carol intro
        - In the lambda function, we're joining strings to generate the carol intro
            - Takes the first 7 characters of the variable `intro`, appends the appropriate date, and finally appends the remaining characters
    - The join over (`,/`) operator is used to join the intro with all of the gifts recieved up to that day
    - When joining the gifts recieved:
        - If we're on day 0, the first gift will have a prefix of 'A' otherwise 'And a' as the newest gifts should come first
            - This is done using the amend at (`@`) and cond (`#`) operators
        - The first `day+1` items are taken from the `gifts` list, and are then reversed so that the newest gifts are printed first
            - `day+1` because the take operator (`#`) will return an empty list if the value passed into it is `0` and not the first item of the `gifts` list as we require
    - `raze` flattens `lyrics` list by collapsing one level of nesting and `sv` converts the vector to a scalar by joining the list of strings by `\n`

### Questions
- What does `vs` do?
    - `x vs y`
    - Vector from Scalar
        - Partitions a symbol, string or bytestream
        - Encode a vector from an atom, or a matrix from a vector
    - In this case, `vs` is used to return a list of strings delimited by an empty space
        - `" "vs"first second third"` gives us
            - `first`
            - `second`
            - `third`
    - Opposite of this is Scalar from Vector, `sv`
        - `x sv y`
        - Can be used to return y joined by x, and also for decoding
- What is `@`?
    - Amend/Amend at
    - Used to modify one or more elements of a list, dictionary or datafile
    - Amend is expressed as `.[d;i;u]` or `.[d;i;v;vy]`, and amend at is expressed as `@[d;i;u]` or `@[d;i;v;vy]`
        - Where:
            - `d` is the atom, list, dictionary or datafile
                - If this argument is the only one missing, Amend/Amend at becomes a unary function and the value of `d` becomes the expression to its right
            - `i` is a list of indexes of d to be amended to
                - if `i` is an empty list for `.` or null for `@`, then the selection is the entire value of `d`
            - `u` is a unary (single input function)
            - `v` is a binary (two input function) and `vy` is
                - in the right domain of `v`
                    - Does this simply mean that `vy` is the right argument of `v`?
                - if selection is not `d`, it conforms to the selection and is of the same type
    - Overloaded! Also means index at
        - `((d@1)@2)@0` or `d @/ 1 2 0` means select item 0 of item 2 of item 1
- What is `$`?
    - Cond; conditional evaluation
    - Basically if/else if/else
    - Expressed as `$[test;et;ef]`
        - If `test` evaluates to 0, Cond returns ef otherwise it returns et
    - Can be nested
        - `$[q;a;r;b;s;c;d]` translates to if `q` then `a`, else if `r` then `b`, else if `s` then `c`, else `d`
    - Odd number of expressions always returns a result, even number of expressions either returns a result or a generic null
- What is `raze`?
    - Returns the items of a list `x` joined (collapses one level of nesting), and can be used to flatten values from a dictionary
        - To collapse all levels, we can use converge: `raze/[x]` (works for over and scan)
    - Not all items can be joined
        - i.e. can't join an integer with a dictionary `raze (10;d)`
    - Essentially an extension of join over `,/`
- What does `each` do?
    - `v each x` applies `v1` as a unary to each item of `x`
    - Returns a result of the same length
    - `peach` does the same task and returns the same result, but divides the work between available secondary tasks
- What does `0 1,/:{(reverse x)+2+til each 2+x}til 12` do?
    - `,/` joins the list `0 1` with the one generated by the function `{(reverse x)+2+til each 2+x}til 12`
    - `{(reverse x)+2+til each 2+x}til 12`
        - `til 12`: generates an integer vector of the numbers `[0, 12)`
        - `til each 2+x`: for each integer in the vector `x`, it will generate a vector going from `[0, 2+x)` inclusive
        - `reverse x`: reverses the integer vector being passed in
        - Takes in a vector containing the elements `[0, 12)` (`x`), for each element (`i`) in the vector makes another vector `[0, i+2)`, reverses the vector `x` and adds `2` to each element and `[0, i+2)` to the corresponding elements
    - All together, this gives us a nested list with each child containing the elements `0`, `1` and the last `x+2` elements of the vector
- What does `.[;0 2;{"A",5_x}]verses{@[x;0;ssr[;"twelfth";y]]}'days` do?
    - `verses{@[x;0;ssr[;"twelfth";y]]}'days`
        - Amend at, `@` applies the unary function `ssr` which searches for `"twelfth"` and replaces it with the proper day in the first line of verses
    - `.[;0 2;{"A",5_x}]`
        - Amend, `.`, applies the lambda function `"A", 5_x` to the second line of the first verse (first nested list)
            - The lambda replaces "And a" with "A"
